{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getJsonOrError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._getJsonOrError);\n  }\n\n  postCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getJsonOrError);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._getJsonOrError);\n  }\n\n  changeUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getJsonOrError);\n  }\n\n  changeUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getJsonOrError);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getJsonOrError);\n  }\n\n  _likeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._getJsonOrError);\n  }\n\n  _dislikeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getJsonOrError);\n  }\n\n  changeLikeCardStatus(obj, variable) {\n    this._status = variable ? this.like(obj._id) : this.dislike(obj._id);\n    return this._status;\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-47\",\n  headers: {\n    authorization: \"a1ba6609-63d0-4b36-839d-98a53999afe1\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_getJsonOrError","res","ok","json","Promise","reject","status","getCards","fetch","then","postCard","data","method","body","JSON","stringify","getUserInfo","changeUserInfo","changeUserAvatar","deleteCard","id","_likeCard","_dislikeCard","changeLikeCardStatus","obj","variable","_status","like","_id","dislike","api","authorization"],"sources":["C:/Users/komputer/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _getJsonOrError(res) {\r\n        if (res.ok){\r\n            return res.json();\r\n        }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getCards(){\r\n        return fetch(`${this._baseUrl}/cards`,{\r\n            headers: this._headers\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    postCard(data){\r\n        return fetch(`${this._baseUrl}/cards`,{\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    getUserInfo(){\r\n        return fetch(`${this._baseUrl}/users/me`,{\r\n            headers: this._headers\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    changeUserInfo(data){\r\n        return fetch(`${this._baseUrl}/users/me`,{\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    changeUserAvatar(data){\r\n        return fetch(`${this._baseUrl}/users/me/avatar`,{\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    deleteCard(id){\r\n        return fetch(`${this._baseUrl}/cards/${id}`,{\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    _likeCard(id){\r\n        return fetch(`${this._baseUrl}/cards/${id}/likes`,{\r\n            method: 'PUT',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    _dislikeCard(id){\r\n        return fetch(`${this._baseUrl}/cards/${id}/likes`,{\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._getJsonOrError);\r\n    }\r\n\r\n    changeLikeCardStatus(obj, variable) {\r\n        this._status = variable ? this.like(obj._id) : this.dislike(obj._id);\r\n        return this._status;\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-47\",\r\n    headers: {\r\n        authorization: \"a1ba6609-63d0-4b36-839d-98a53999afe1\",\r\n        \"Content-Type\": \"application/json\",\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}