{"ast":null,"code":"export const baseUrl = 'https://auth.nomoreparties.co';\n\nconst request = _ref => {\n  let {\n    url,\n    method = 'POST',\n    token,\n    data\n  } = _ref;\n  return fetch(`${baseUrl}${url}`, {\n    method,\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\",\n      ...(!!token && {\n        'Authorization': `Bearer ${token}`\n      })\n    },\n    ...(!!data && {\n      body: JSON.stringify(data)\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(res.status);\n  });\n};\n\nexport const register = (password, email) => {\n  return request({\n    url: '/signup',\n    data: {\n      password,\n      email\n    }\n  });\n};\nexport const authorize = (password, email) => {\n  return request({\n    url: '/signin',\n    data: {\n      password,\n      email\n    }\n  });\n};\nexport const validateToken = token => {\n  return request({\n    url: '/users/me',\n    method: 'GET',\n    token\n  });\n};","map":{"version":3,"names":["baseUrl","request","url","method","token","data","fetch","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","status","register","password","email","authorize","validateToken"],"sources":["C:/Users/komputer/dev/react-mesto-auth/src/utils/auth.js"],"sourcesContent":["export const baseUrl = 'https://auth.nomoreparties.co'\r\n\r\nconst request = ({\r\n    url,\r\n    method = 'POST',\r\n    token,\r\n    data,\r\n}) => {\r\n    return fetch(`${baseUrl}${url}`, {\r\n        method,\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            ...!!token && { 'Authorization': `Bearer ${token}` },\r\n        },\r\n        ...!!data && { body: JSON.stringify(data) },\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject(res.status);\r\n        });\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    return request({\r\n        url: '/signup',\r\n        data: {password, email},\r\n    })\r\n}\r\n\r\nexport const authorize = (password, email) => {\r\n    return request({\r\n        url: '/signin',\r\n        data: {password, email},\r\n    })\r\n}\r\n\r\nexport const validateToken = (token) => {\r\n    return request({\r\n        url: '/users/me',\r\n        method: 'GET',\r\n        token,\r\n    })\r\n}"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,+BAAhB;;AAEP,MAAMC,OAAO,GAAG,QAKV;EAAA,IALW;IACbC,GADa;IAEbC,MAAM,GAAG,MAFI;IAGbC,KAHa;IAIbC;EAJa,CAKX;EACF,OAAOC,KAAK,CAAE,GAAEN,OAAQ,GAAEE,GAAI,EAAlB,EAAqB;IAC7BC,MAD6B;IAE7BI,OAAO,EAAE;MACL,UAAU,kBADL;MAEL,gBAAgB,kBAFX;MAGL,IAAG,CAAC,CAACH,KAAF,IAAW;QAAE,iBAAkB,UAASA,KAAM;MAAnC,CAAd;IAHK,CAFoB;IAO7B,IAAG,CAAC,CAACC,IAAF,IAAU;MAAEG,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;IAAR,CAAb;EAP6B,CAArB,CAAL,CASFM,IATE,CASGC,GAAG,IAAI;IACT,IAAIA,GAAG,CAACC,EAAR,EAAY;MACR,OAAOD,GAAG,CAACE,IAAJ,EAAP;IACH;;IAED,OAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,MAAnB,CAAP;EACH,CAfE,CAAP;AAgBH,CAtBD;;AAwBA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;EACzC,OAAOnB,OAAO,CAAC;IACXC,GAAG,EAAE,SADM;IAEXG,IAAI,EAAE;MAACc,QAAD;MAAWC;IAAX;EAFK,CAAD,CAAd;AAIH,CALM;AAOP,OAAO,MAAMC,SAAS,GAAG,CAACF,QAAD,EAAWC,KAAX,KAAqB;EAC1C,OAAOnB,OAAO,CAAC;IACXC,GAAG,EAAE,SADM;IAEXG,IAAI,EAAE;MAACc,QAAD;MAAWC;IAAX;EAFK,CAAD,CAAd;AAIH,CALM;AAOP,OAAO,MAAME,aAAa,GAAIlB,KAAD,IAAW;EACpC,OAAOH,OAAO,CAAC;IACXC,GAAG,EAAE,WADM;IAEXC,MAAM,EAAE,KAFG;IAGXC;EAHW,CAAD,CAAd;AAKH,CANM"},"metadata":{},"sourceType":"module"}