{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\komputer\\\\dev\\\\react-mesto-auth\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    onLogin,\n    isCorrectly,\n    isOpen,\n    onClose\n  } = _ref;\n  const navigate = useNavigate();\n  const initValues = {\n    email: '',\n    password: ''\n  };\n  const [state, setState] = useState(initValues);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(old => ({ ...old,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      password,\n      email\n    } = state;\n    if (!password || !email) return;\n    onLogin(password, email).then(() => {\n      setState(initValues);\n    }).catch(err => {\n      console.log(err);\n      setState(old => ({ ...old\n      }));\n    }).finally(() => {\n      navigate('/');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"auth__title\",\n        children: \"\\u0412\\u0445\\u043E\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"auth__form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          className: \"auth__input\",\n          type: \"email\",\n          placeholder: \"Email\",\n          value: state.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          className: \"auth__input\",\n          type: \"password\",\n          placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: state.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"auth__submit\",\n          type: \"submit\",\n          onClick: handleSubmit,\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InfoToolTip, {\n      isCorrectly: isCorrectly,\n      isOpen: isOpen,\n      onClose: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"PWwQatmJdGxPEMpZZcBBfB0QG5g=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","InfoToolTip","useNavigate","Login","onLogin","isCorrectly","isOpen","onClose","navigate","initValues","email","password","state","setState","handleChange","e","name","value","target","old","handleSubmit","preventDefault","then","catch","err","console","log","finally"],"sources":["C:/Users/komputer/dev/react-mesto-auth/src/components/Login.js"],"sourcesContent":["import {useState} from \"react\";\r\nimport InfoToolTip from \"./InfoToolTip\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst Login = ({onLogin, isCorrectly, isOpen, onClose}) =>{\r\n    const navigate = useNavigate();\r\n\r\n    const initValues = {\r\n        email: '',\r\n        password: '',\r\n    }\r\n\r\n    const [state, setState] = useState(initValues)\r\n\r\n    const handleChange = e => {\r\n        const {name, value} = e.target;\r\n\r\n        setState(old => ({\r\n            ...old,\r\n            [name]: value,\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const {password, email} = state;\r\n\r\n        if (!password || !email) return;\r\n\r\n        onLogin(password, email)\r\n            .then(() => {\r\n                setState(initValues)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n\r\n                setState(old => ({\r\n                    ...old\r\n                }))\r\n            })\r\n            .finally(() =>{\r\n                navigate('/')\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"auth\">\r\n                <h1 className=\"auth__title\">Вход</h1>\r\n                <form className=\"auth__form\">\r\n                    <input name='email' className=\"auth__input\" type=\"email\" placeholder=\"Email\" value={state.email} onChange={handleChange}/>\r\n                    <input name='password' className=\"auth__input\" type=\"password\" placeholder=\"Пароль\" value={state.password} onChange={handleChange}/>\r\n                    <button className=\"auth__submit\" type=\"submit\" onClick={handleSubmit}>Войти</button>\r\n                </form>\r\n            </div>\r\n            <InfoToolTip isCorrectly={isCorrectly} isOpen={isOpen} onClose={onClose}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":";;;AAAA,SAAQA,QAAR,QAAuB,OAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;;;AAEA,MAAMC,KAAK,GAAG,QAA4C;EAAA;;EAAA,IAA3C;IAACC,OAAD;IAAUC,WAAV;IAAuBC,MAAvB;IAA+BC;EAA/B,CAA2C;EACtD,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EAEA,MAAMO,UAAU,GAAG;IACfC,KAAK,EAAE,EADQ;IAEfC,QAAQ,EAAE;EAFK,CAAnB;EAKA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAACS,UAAD,CAAlC;;EAEA,MAAMK,YAAY,GAAGC,CAAC,IAAI;IACtB,MAAM;MAACC,IAAD;MAAOC;IAAP,IAAgBF,CAAC,CAACG,MAAxB;IAEAL,QAAQ,CAACM,GAAG,KAAK,EACb,GAAGA,GADU;MAEb,CAACH,IAAD,GAAQC;IAFK,CAAL,CAAJ,CAAR;EAIH,CAPD;;EASA,MAAMG,YAAY,GAAGL,CAAC,IAAI;IACtBA,CAAC,CAACM,cAAF;IAEA,MAAM;MAACV,QAAD;MAAWD;IAAX,IAAoBE,KAA1B;IAEA,IAAI,CAACD,QAAD,IAAa,CAACD,KAAlB,EAAyB;IAEzBN,OAAO,CAACO,QAAD,EAAWD,KAAX,CAAP,CACKY,IADL,CACU,MAAM;MACRT,QAAQ,CAACJ,UAAD,CAAR;IACH,CAHL,EAIKc,KAJL,CAIWC,GAAG,IAAI;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MAEAX,QAAQ,CAACM,GAAG,KAAK,EACb,GAAGA;MADU,CAAL,CAAJ,CAAR;IAGH,CAVL,EAWKQ,OAXL,CAWa,MAAK;MACVnB,QAAQ,CAAC,GAAD,CAAR;IACH,CAbL;EAcH,CArBD;;EAuBA,oBACI;IAAA,wBACI;MAAK,SAAS,EAAC,MAAf;MAAA,wBACI;QAAI,SAAS,EAAC,aAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAM,SAAS,EAAC,YAAhB;QAAA,wBACI;UAAO,IAAI,EAAC,OAAZ;UAAoB,SAAS,EAAC,aAA9B;UAA4C,IAAI,EAAC,OAAjD;UAAyD,WAAW,EAAC,OAArE;UAA6E,KAAK,EAAEI,KAAK,CAACF,KAA1F;UAAiG,QAAQ,EAAEI;QAA3G;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,UAAZ;UAAuB,SAAS,EAAC,aAAjC;UAA+C,IAAI,EAAC,UAApD;UAA+D,WAAW,EAAC,sCAA3E;UAAoF,KAAK,EAAEF,KAAK,CAACD,QAAjG;UAA2G,QAAQ,EAAEG;QAArH;UAAA;UAAA;UAAA;QAAA,QAFJ,eAGI;UAAQ,SAAS,EAAC,cAAlB;UAAiC,IAAI,EAAC,QAAtC;UAA+C,OAAO,EAAEM,YAAxD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eASI,QAAC,WAAD;MAAa,WAAW,EAAEf,WAA1B;MAAuC,MAAM,EAAEC,MAA/C;MAAuD,OAAO,EAAEC;IAAhE;MAAA;MAAA;MAAA;IAAA,QATJ;EAAA,gBADJ;AAaH,CAvDD;;GAAMJ,K;UACeD,W;;;KADfC,K;AAyDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}